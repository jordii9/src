<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
</head>
<body>
<!--[metadata]>
+++
title = "create"
description = "The create command description and usage"
keywords = ["docker, create, container"]
[menu.main]
parent = "smn_cli"
+++
<![end-metadata]-->

<h1 id="create">create</h1>
<p>Creates a new container.</p>
<pre><code>Usage: docker create [OPTIONS] IMAGE [COMMAND] [ARG...]

Create a new container

  -a, --attach=[]               Attach to STDIN, STDOUT or STDERR
  --add-host=[]                 Add a custom host-to-IP mapping (host:ip)
  --blkio-weight=0              Block IO weight (relative weight)
  --blkio-weight-device=[]      Block IO weight (relative device weight, format: `DEVICE_NAME:WEIGHT`)
  --cpu-shares=0                CPU shares (relative weight)
  --cap-add=[]                  Add Linux capabilities
  --cap-drop=[]                 Drop Linux capabilities
  --cgroup-parent=&quot;&quot;            Optional parent cgroup for the container
  --cidfile=&quot;&quot;                  Write the container ID to the file
  --cpu-period=0                Limit CPU CFS (Completely Fair Scheduler) period
  --cpu-quota=0                 Limit CPU CFS (Completely Fair Scheduler) quota
  --cpuset-cpus=&quot;&quot;              CPUs in which to allow execution (0-3, 0,1)
  --cpuset-mems=&quot;&quot;              Memory nodes (MEMs) in which to allow execution (0-3, 0,1)
  --device=[]                   Add a host device to the container
  --device-read-bps=[]          Limit read rate (bytes per second) from a device (e.g., --device-read-bps=/dev/sda:1mb)
  --device-read-iops=[]         Limit read rate (IO per second) from a device (e.g., --device-read-iops=/dev/sda:1000)
  --device-write-bps=[]         Limit write rate (bytes per second) to a device (e.g., --device-write-bps=/dev/sda:1mb)
  --device-write-iops=[]        Limit write rate (IO per second) to a device (e.g., --device-write-iops=/dev/sda:1000)
  --disable-content-trust=true  Skip image verification
  --dns=[]                      Set custom DNS servers
  --dns-opt=[]                  Set custom DNS options
  --dns-search=[]               Set custom DNS search domains
  -e, --env=[]                  Set environment variables
  --entrypoint=&quot;&quot;               Overwrite the default ENTRYPOINT of the image
  --env-file=[]                 Read in a file of environment variables
  --expose=[]                   Expose a port or a range of ports
  --group-add=[]                Add additional groups to join
  -h, --hostname=&quot;&quot;             Container host name
  --help                        Print usage
  -i, --interactive             Keep STDIN open even if not attached
  --ip=&quot;&quot;                       Container IPv4 address (e.g. 172.30.100.104)
  --ip6=&quot;&quot;                      Container IPv6 address (e.g. 2001:db8::33)
  --ipc=&quot;&quot;                      IPC namespace to use
  --isolation=&quot;&quot;                Container isolation technology
  --kernel-memory=&quot;&quot;            Kernel memory limit
  -l, --label=[]                Set metadata on the container (e.g., --label=com.example.key=value)
  --label-file=[]               Read in a line delimited file of labels
  --link=[]                     Add link to another container
  --log-driver=&quot;&quot;               Logging driver for container
  --log-opt=[]                  Log driver specific options
  -m, --memory=&quot;&quot;               Memory limit
  --mac-address=&quot;&quot;              Container MAC address (e.g. 92:d0:c6:0a:29:33)
  --memory-reservation=&quot;&quot;       Memory soft limit
  --memory-swap=&quot;&quot;              A positive integer equal to memory plus swap. Specify -1 to enable unlimited swap.
  --memory-swappiness=&quot;&quot;        Tune a container&#39;s memory swappiness behavior. Accepts an integer between 0 and 100.
  --name=&quot;&quot;                     Assign a name to the container
  --net=&quot;bridge&quot;                Connect a container to a network
                                &#39;bridge&#39;: create a network stack on the default Docker bridge
                                &#39;none&#39;: no networking
                                &#39;container:&lt;name|id&gt;&#39;: reuse another container&#39;s network stack
                                &#39;host&#39;: use the Docker host network stack
                                &#39;&lt;network-name&gt;|&lt;network-id&gt;&#39;: connect to a user-defined network
  --net-alias=[]                Add network-scoped alias for the container
  --oom-kill-disable            Whether to disable OOM Killer for the container or not
  --oom-score-adj=0             Tune the host&#39;s OOM preferences for containers (accepts -1000 to 1000)
  -P, --publish-all             Publish all exposed ports to random ports
  -p, --publish=[]              Publish a container&#39;s port(s) to the host
  --pid=&quot;&quot;                      PID namespace to use
  --pids-limit=-1                Tune container pids limit (set -1 for unlimited), kernel &gt;= 4.3
  --privileged                  Give extended privileges to this container
  --read-only                   Mount the container&#39;s root filesystem as read only
  --restart=&quot;no&quot;                Restart policy (no, on-failure[:max-retry], always, unless-stopped)
  --security-opt=[]             Security options
  --stop-signal=&quot;SIGTERM&quot;       Signal to stop a container
  --shm-size=[]                 Size of `/dev/shm`. The format is `&lt;number&gt;&lt;unit&gt;`. `number` must be greater than `0`.  Unit is optional and can be `b` (bytes), `k` (kilobytes), `m` (megabytes), or `g` (gigabytes). If you omit the unit, the system uses bytes. If you omit the size entirely, the system uses `64m`.
  --storage-opt=[]              Set storage driver options per container
  -t, --tty                     Allocate a pseudo-TTY
  -u, --user=&quot;&quot;                 Username or UID
  --userns=&quot;&quot;                   Container user namespace
                                &#39;host&#39;: Use the Docker host user namespace
                                &#39;&#39;: Use the Docker daemon user namespace specified by `--userns-remap` option.
  --ulimit=[]                   Ulimit options
  --uts=&quot;&quot;                      UTS namespace to use
  -v, --volume=[host-src:]container-dest[:&lt;options&gt;]
                                Bind mount a volume. The comma-delimited
                                `options` are [rw|ro], [z|Z],
                                [[r]shared|[r]slave|[r]private], and
                                [nocopy]. The &#39;host-src&#39; is an absolute path
                                or a name value.
  --volume-driver=&quot;&quot;            Container&#39;s volume driver
  --volumes-from=[]             Mount volumes from the specified container(s)
  -w, --workdir=&quot;&quot;              Working directory inside the container</code></pre>
<p>The <code>docker create</code> command creates a writeable container layer over the specified image and prepares it for running the specified command. The container ID is then printed to <code>STDOUT</code>. This is similar to <code>docker run -d</code> except the container is never started. You can then use the <code>docker start &lt;container_id&gt;</code> command to start the container at any point.</p>
<p>This is useful when you want to set up a container configuration ahead of time so that it is ready to start when you need it. The initial status of the new container is <code>created</code>.</p>
<p>Please see the <a href="run.md">run command</a> section and the <a href="../run.md">Docker run reference</a> for more details.</p>
<h2 id="examples">Examples</h2>
<pre><code>$ docker create -t -i fedora bash
6d8af538ec541dd581ebc2a24153a28329acb5268abe5ef868c1f1a261221752
$ docker start -a -i 6d8af538ec5
bash-4.2#</code></pre>
<p>As of v1.4.0 container volumes are initialized during the <code>docker create</code> phase (i.e., <code>docker run</code> too). For example, this allows you to <code>create</code> the <code>data</code> volume container, and then use it from another container:</p>
<pre><code>$ docker create -v /data --name data ubuntu
240633dfbb98128fa77473d3d9018f6123b99c454b3251427ae190a7d951ad57
$ docker run --rm --volumes-from data ubuntu ls -la /data
total 8
drwxr-xr-x  2 root root 4096 Dec  5 04:10 .
drwxr-xr-x 48 root root 4096 Dec  5 04:11 ..</code></pre>
<p>Similarly, <code>create</code> a host directory bind mounted volume container, which can then be used from the subsequent container:</p>
<pre><code>$ docker create -v /home/docker:/docker --name docker ubuntu
9aa88c08f319cd1e4515c3c46b0de7cc9aa75e878357b1e96f91e2c773029f03
$ docker run --rm --volumes-from docker ubuntu ls -la /docker
total 20
drwxr-sr-x  5 1000 staff  180 Dec  5 04:00 .
drwxr-xr-x 48 root root  4096 Dec  5 04:13 ..
-rw-rw-r--  1 1000 staff 3833 Dec  5 04:01 .ash_history
-rw-r--r--  1 1000 staff  446 Nov 28 11:51 .ashrc
-rw-r--r--  1 1000 staff   25 Dec  5 04:00 .gitconfig
drwxr-sr-x  3 1000 staff   60 Dec  1 03:28 .local
-rw-r--r--  1 1000 staff  920 Nov 28 11:51 .profile
drwx--S---  2 1000 staff  460 Dec  5 00:51 .ssh
drwxr-xr-x 32 1000 staff 1140 Dec  5 04:01 docker</code></pre>
<p>Set storage driver options per container.</p>
<pre><code>$ docker create -it --storage-opt size=120G fedora /bin/bash</code></pre>
<p>This (size) will allow to set the container rootfs size to 120G at creation time. User cannot pass a size less than the Default BaseFS Size.</p>
<h3 id="specify-isolation-technology-for-container---isolation">Specify isolation technology for container (--isolation)</h3>
<p>This option is useful in situations where you are running Docker containers on Windows. The <code>--isolation=&lt;value&gt;</code> option sets a container's isolation technology. On Linux, the only supported is the <code>default</code> option which uses Linux namespaces. On Microsoft Windows, you can specify these values:</p>
<table>
<thead>
<tr class="header">
<th align="left">Value</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>default</code></td>
<td align="left">Use the value specified by the Docker daemon's <code>--exec-opt</code> . If the <code>daemon</code> does not specify an isolation technology, Microsoft Windows uses <code>process</code> as its default value.</td>
</tr>
<tr class="even">
<td align="left"><code>process</code></td>
<td align="left">Namespace isolation only.</td>
</tr>
<tr class="odd">
<td align="left"><code>hyperv</code></td>
<td align="left">Hyper-V hypervisor partition-based isolation.</td>
</tr>
</tbody>
</table>
<p>Specifying the <code>--isolation</code> flag without a value is the same as setting <code>--isolation=&quot;default&quot;</code>.</p>
</body>
</html>
